{"version":3,"sources":["payment.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"payment.js","sourcesContent":["$(document).ready(function () {\n    // handle creation of credit card token\n    $('#payment-form').submit(function(event) {\n        var $form = $(this);\n\n        // Disable the submit button to prevent repeated clicks\n        $form.find('button').prop('disabled', true);\n\n        Stripe.card.createToken({\n            name: user.name,\n            number: $('input[data-stripe=number]').val(),\n            cvc: $('input[data-stripe=cvc]').val(),\n            exp_month: $('select[data-stripe=exp-month]').val(),\n            exp_year: $('select[data-stripe=exp-year]').val(),\n            address_line1: user.address_one,\n            address_line2: user.address_two,\n            address_city: user.city,\n            address_state: user.state,\n            address_zip: user.zip\n        }, function (status, response) {\n            var $form = $('#payment-form'),\n                $errors = $form.find('.payment-errors').hide();\n\n            if (response.error) {\n                // Show the errors on the form\n                $errors.text(response.error.message).show();\n                $form.find('button').prop('disabled', false);\n            } else {\n                // response contains id and card, which contains additional card details\n                var token = response.id;\n                // Insert the token into the form so it gets submitted to the server\n                $form.append($('<input type=\"hidden\" name=\"stripeToken\" />').val(token));\n                // and submit\n                $form.get(0).submit();\n            }\n        });\n\n        // Prevent the form from submitting with the default action\n        return false;\n    });\n});"],"sourceRoot":"/source/"}